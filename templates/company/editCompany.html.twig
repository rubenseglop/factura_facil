{% extends 'base.html.twig' %}

{% block title %}Editar Empresa{% endblock %}

{% block stylesheets %}
    {{ parent() }}
{% endblock %}

{% block body %}

    {% include 'header.html.twig' %}
    {% include 'menu-user.html.twig' %}
    
    <div class="container main-container">


        <!-- Button trigger modal -->


        <!-- Modal -->
        {#<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    {#{{ form_start(editCompany_form, {'method': 'post', 'attr': {'class': 'form', 'onsubmit':'return validarformulario(this)'}}) }}
                        <div class="modal-header">
                            <h5 class="modal-title" align="center" style="color: #000000">Añadir Red Social</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            {{ form_start(addSocialNetwork_form, {'method': 'post', 'attr': {'class': 'form'}}) }}
                            <div class="form-group">
                                <p>Red Social</p>
                                <select name="select" id="seleccionar" class="form-control">
                                    <option value="facebook">Facebook</option>
                                    <option value="twitter">Twitter</option>
                                    <option value="linkedin">Linkedin</option>
                                    <option value="tuenti">Tuenti</option>ç
                                    <option value="tiktok">Tik Tok</option>
                                </select>
                                <p>URL: <br>**<span id="introduce"></span><input type="text" class="form-control" id="url" name="url" placeholder="Escribe la URL..."></p>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
                            <button type="submit" name="submitSave" class="btn btn-primary">Guardar cambios</button>
                            {{ form_rest(addSocialNetwork_form) }}
                            {{ form_end(addSocialNetwork_form) }}
                        </div>
                    {#{{ form_rest(editCompany_form) }}
                    {{ form_end(editCompany_form) }}
                </div>
            </div>
        </div>#}




        <div class="row">
            <div class="panel">
                <div class="card-header">
                    <h3 class="mb-0">Editar Empresa : {{ nameCompany }}</h3>
                </div>
                <div class="panel-form">
                    {{ form_start(editCompany_form, {'method': 'post', 'attr': {'class': 'form', 'onsubmit':'return validarformulario(this)'}}) }}
                        <div class="form-group">
                            <label for="nameCompany">Nombre </label>
                            {{ form_widget(editCompany_form.name, { 'attr': {'class': 'form-control form-control-lg rounded-0 ', 'placeholder':'Company Name', 'name':'nombre de la empresa', 'id':'nameCompany',  'value': nameCompany} }) }}
                            {# {% for errorItem in editCompany_form.email.vars.errors %}
                                <span class="help-inline">{{ errorItem.message }}</span>
                            {% endfor %} #}
                        </div>
                        <div class="form-group">
                            <label for="fiscalAdressCompany">Direccion Fiscal</label>
                            {{ form_widget(editCompany_form.fiscalAddress, { 'attr': {'class': 'form-control form-control-lg rounded-0', 'name':'domicilio fiscal de la empresa', 'placeholder':'Domicilio Fiscal', 'id':'fiscalAdressCompany', 'value':fiscalAdressCompany} }) }}
                            {# {% for errorItem in editCompany_form.name.vars.errors %}
                                <span class="help-inline">{{ errorItem.message }}</span>
                            {% endfor %}#}
                        </div>
                        <div class="form-group">
                            <label for="emailCompany">Email</label>
                            {{ form_widget(editCompany_form.email, { 'attr': {'class': 'form-control form-control-lg rounded-0', 'name':'email de la empresa', 'placeholder':'Email Company', 'id':'emailCompany', 'value':emailCompany} }) }}
                            {# {% for errorItem in editCompany_form.plainPassword.vars.errors %}
                                <span class="help-inline">{{ errorItem.message }}</span>
                            {% endfor %}#}
                        </div>
                        <div class="form-group">

                            <label for="nifCompany">NIF</label>
                            {{ form_widget(editCompany_form.NIF, { 'attr': {'class': 'form-control form-control-lg rounded-0', 'name':'NIF de la empresa', 'id':'nifCompany', 'placeholder':'NIF', 'value':nifCompany} }) }}
                            {# {% for errorItem in editCompany_form.plainPassword.vars.errors %}
                                <span class="help-inline">{{ errorItem.message }}</span>
                            {% endfor %}#}
                            <div class="container">
                                <div class="row">
                                    {% for socialNetwork in socialNetworks %}
                                        <div class="card m-5 col-md-2" style="width: 18rem;">
                                            <img class="card-img-top" class="rounded-6" style="border-radius: 2px;" src="img/{{socialNetwork.name}}.png" alt="{{socialNetwork.name}}">
                                            <div class="card-body">
                                                <h5 class="card-title" align="center">{{socialNetwork.name}}</h5>
                                                <a href="https://www.facebook.com/" class="btn btn-primary">Go {{socialNetwork.name}}</a>

                                                <a href="/deleteSocialNetwork?idC={{ companies.id }}&idS={{ socialNetwork.id }}" class="btn btn-primary mt-3"> Borrar</a>
                                            </div>
                                            </div>
                                    {% endfor %}
                                    <div class="card m-5 col-md-3" style="width: 18rem; border: none">
                                        <a href="/addSocialNetwork?id={{ companies.id }}" class="btn btn-primary rounded-circle mt-5"> Añadir Red Social</a>

                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-actions">
                            <a class="btn btn-secundary" href="{{ relative_path('/empresas') }}">Volver a Empresas</a>
                            <button type="submit" id="register-submit-btn" class="btn btn-primary float-right">Actualizar Datos</button>
                        </div>
                        {{ form_rest(editCompany_form) }}
                    {{ form_end(editCompany_form) }}
                </div>
            </div>
        </div>
    </div>

    {% block javascripts %}
        {{ parent() }}
        <script src="{{ asset('js/companyScript.js') }}" type="text/javascript"></script>
        <script src="{{ asset('js/editcompanyScript.js') }}" type="text/javascript"></script>
    {% endblock %}
{% endblock %}